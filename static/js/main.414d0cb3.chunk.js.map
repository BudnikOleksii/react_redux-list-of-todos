{"version":3,"sources":["types/User.ts","api.ts","types/Todo.ts","store/user.ts","store/todos.ts","types/FilterType.ts","store/filter.ts","store/index.ts","components/TodoComponent/TodoComponent.tsx","components/TodoList/TodoList.tsx","components/TodoFilter/TodoFilter.tsx","components/Loader/Loader.tsx","components/TodoModal/TodoModal.tsx","App.tsx","index.tsx"],"names":["UserActionTypes","get","url","delay","fullURL","Promise","resolve","setTimeout","then","fetch","res","json","TodosActionTypes","initialState","user","loading","error","actions","type","UserFetchStart","UserFetchSuccess","payload","UserFetchError","UserFetchFinish","UserUnselect","fetchUser","userId","dispatch","getUser","userFromServer","catch","err","finally","userReducer","state","action","FilterType","todos","selectedTodo","TodosFetchStart","TodosFetchSuccess","TodosFetchError","TodosFetchFinish","todo","TodoSelect","TodoUnselect","fetchTodos","todosFromServer","todosReducer","filterType","All","appliedQuery","query","filterReducer","rootReducer","combineReducers","todosInfo","userInfo","filter","selectors","lowerCasedQuery","toLowerCase","checkQuery","title","includes","Active","completed","Completed","store","createStore","composeWithDevTools","applyMiddleware","thunk","TodoComponent","memo","id","useDispatch","useSelector","className","cn","onClick","todosActions","TodoList","map","TodoFilter","useState","setQuery","setAppliedQuery","useDebouncedCallback","value","filterActions","handleChangeQuery","onChange","event","target","placeholder","style","pointerEvents","Loader","TodoModal","useEffect","userActions","href","email","name","App","filteredTodos","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.414d0cb3.chunk.js","sourcesContent":["import { Maybe } from './Maybe';\n\nexport interface User {\n  id: number;\n  name: string;\n  email: string;\n  phone: string;\n}\n\nexport enum UserActionTypes {\n  UserFetchStart = 'user/FETCH_START',\n  UserFetchSuccess = 'user/FETCH_SUCCESS',\n  UserFetchError = 'user/FETCH_ERROR',\n  UserFetchFinish = 'user/FETCH_FINISH',\n  UserUnselect = 'user/UNSELECT',\n}\n\nexport interface UserFetchStart {\n  type: UserActionTypes.UserFetchStart,\n}\n\nexport interface UserFetchSuccess {\n  type: UserActionTypes.UserFetchSuccess,\n  payload: User,\n}\n\nexport interface UserFetchError {\n  type: UserActionTypes.UserFetchError,\n  payload: string,\n}\n\nexport interface UserFetchFinish {\n  type: UserActionTypes.UserFetchFinish,\n}\n\nexport interface UserUnselect {\n  type: UserActionTypes.UserUnselect,\n}\n\nexport type UserAction = (\n  UserFetchStart | UserFetchSuccess | UserFetchError\n  | UserFetchFinish | UserUnselect\n);\n\nexport interface UserState {\n  user: Maybe<User>,\n  loading: boolean,\n  error: Maybe<string>,\n}\n","import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\nfunction wait(delay: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction get<T>(url: string): Promise<T> {\n  // eslint-disable-next-line prefer-template\n  const fullURL = BASE_URL + url + '.json';\n\n  return wait(1000)\n    .then(() => fetch(fullURL))\n    .then(res => res.json());\n}\n\nexport const getTodos = () => get<Todo[]>('/todos');\n\nexport const getUser = (userId: number) => get<User>(`/users/${userId}`);\n","import { Maybe } from './Maybe';\n\nexport interface Todo {\n  id: number;\n  title: string;\n  completed: boolean;\n  userId: number;\n}\n\nexport enum TodosActionTypes {\n  TodosFetchStart = 'todos/FETCH_START',\n  TodosFetchSuccess = 'todos/FETCH_SUCCESS',\n  TodosFetchError = 'todos/FETCH_ERROR',\n  TodosFetchFinish = 'todos/FETCH_FINIS',\n  TodoSelect = 'todo/SELECT',\n  TodoUnselect = 'todo/UNSELECT',\n}\n\nexport interface TodosFetchStart {\n  type: TodosActionTypes.TodosFetchStart,\n}\n\nexport interface TodosFetchSuccess {\n  type: TodosActionTypes.TodosFetchSuccess,\n  payload: Todo[],\n}\n\nexport interface TodosFetchError {\n  type: TodosActionTypes.TodosFetchError,\n  payload: string,\n}\n\nexport interface TodosFetchFinish {\n  type: TodosActionTypes.TodosFetchFinish,\n}\n\nexport interface SelectTodo {\n  type: TodosActionTypes.TodoSelect,\n  payload: Todo,\n}\n\nexport interface UnselectTodo {\n  type: TodosActionTypes.TodoUnselect,\n}\n\nexport type TodosAction = (\n  TodosFetchStart | TodosFetchSuccess | TodosFetchError\n  | TodosFetchFinish | SelectTodo | UnselectTodo\n);\n\nexport interface TodosState {\n  todos: Todo[],\n  loading: boolean,\n  error: Maybe<string>,\n  selectedTodo: Maybe<Todo>,\n}\n","import { Dispatch } from 'redux';\nimport {\n  UserFetchError, UserFetchFinish, UserFetchStart, UserFetchSuccess,\n  User, UserAction, UserActionTypes, UserState, UserUnselect,\n} from '../types/User';\nimport { getUser } from '../api';\n\nconst initialState: UserState = {\n  user: null,\n  loading: false,\n  error: null,\n};\n\nexport const actions = {\n  startFetch: (): UserFetchStart => ({\n    type: UserActionTypes.UserFetchStart,\n  }),\n  setUser: (user: User): UserFetchSuccess => ({\n    type: UserActionTypes.UserFetchSuccess,\n    payload: user,\n  }),\n  setError: (error: string): UserFetchError => ({\n    type: UserActionTypes.UserFetchError,\n    payload: error,\n  }),\n  finishFetch: (): UserFetchFinish => ({\n    type: UserActionTypes.UserFetchFinish,\n  }),\n  userUnselect: (): UserUnselect => ({ type: UserActionTypes.UserUnselect }),\n};\n\nexport const fetchUser = (userId: number) => {\n  return (dispatch: Dispatch<UserAction>) => {\n    dispatch(actions.startFetch());\n\n    getUser(userId)\n      .then(userFromServer => dispatch(actions.setUser(userFromServer)))\n      .catch(err => dispatch(actions.setError(err)))\n      .finally(() => dispatch(actions.finishFetch()));\n  };\n};\n\nconst userReducer = (\n  state = initialState,\n  action: UserAction,\n) : UserState => {\n  switch (action.type) {\n    case UserActionTypes.UserFetchStart:\n      return {\n        ...state,\n        loading: true,\n      };\n    case UserActionTypes.UserFetchSuccess:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case UserActionTypes.UserFetchError:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case UserActionTypes.UserFetchFinish:\n      return {\n        ...state,\n        loading: false,\n      };\n    case UserActionTypes.UserUnselect:\n      return {\n        ...state,\n        user: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { Dispatch } from 'redux';\nimport {\n  SelectTodo,\n  Todo,\n  TodosAction,\n  TodosActionTypes,\n  TodosFetchError,\n  TodosFetchFinish,\n  TodosFetchStart,\n  TodosFetchSuccess,\n  TodosState,\n  UnselectTodo,\n} from '../types/Todo';\nimport { getTodos } from '../api';\n\nconst initialState: TodosState = {\n  todos: [],\n  loading: false,\n  error: null,\n  selectedTodo: null,\n};\n\nexport const actions = {\n  startFetch: (): TodosFetchStart => ({\n    type: TodosActionTypes.TodosFetchStart,\n  }),\n  setTodos: (todos: Todo[]): TodosFetchSuccess => ({\n    type: TodosActionTypes.TodosFetchSuccess,\n    payload: todos,\n  }),\n  setError: (error: string): TodosFetchError => ({\n    type: TodosActionTypes.TodosFetchError,\n    payload: error,\n  }),\n  finishFetch: (): TodosFetchFinish => ({\n    type: TodosActionTypes.TodosFetchFinish,\n  }),\n  selectTodo: (todo: Todo): SelectTodo => ({\n    type: TodosActionTypes.TodoSelect,\n    payload: todo,\n  }),\n  unselectTodo: (): UnselectTodo => ({ type: TodosActionTypes.TodoUnselect }),\n};\n\nexport const fetchTodos = () => {\n  return (dispatch: Dispatch<TodosAction>) => {\n    dispatch(actions.startFetch());\n\n    getTodos()\n      .then(todosFromServer => dispatch(actions.setTodos(todosFromServer)))\n      .catch(err => dispatch(actions.setError(err)))\n      .finally(() => dispatch(actions.finishFetch()));\n  };\n};\n\nconst todosReducer = (\n  state = initialState,\n  action: TodosAction,\n) : TodosState => {\n  switch (action.type) {\n    case TodosActionTypes.TodosFetchStart:\n      return {\n        ...state,\n        loading: true,\n      };\n    case TodosActionTypes.TodosFetchSuccess:\n      return {\n        ...state,\n        todos: action.payload,\n      };\n    case TodosActionTypes.TodosFetchError:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case TodosActionTypes.TodosFetchFinish:\n      return {\n        ...state,\n        loading: false,\n      };\n    case TodosActionTypes.TodoSelect:\n      return {\n        ...state,\n        selectedTodo: action.payload,\n      };\n    case TodosActionTypes.TodoUnselect:\n      return {\n        ...state,\n        selectedTodo: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default todosReducer;\n","export enum FilterType {\n  All = 'all',\n  Active = 'active',\n  Completed = 'completed',\n}\n","import { FilterType } from '../types/FilterType';\n\ntype SetFilterType = {\n  type: 'filter/SET_FILTERTYPE';\n  payload: string;\n};\n\ntype SetAppliedQueryAction = {\n  type: 'filter/SET_APPLIEDQUERY';\n  payload: string,\n};\n\ntype Action = SetFilterType | SetAppliedQueryAction;\n\ntype FilterState = {\n  filterType: string,\n  appliedQuery: string,\n};\n\nconst initialState: FilterState = {\n  filterType: FilterType.All,\n  appliedQuery: '',\n};\n\nexport const actions = {\n  setFilterType: (filterType: string): SetFilterType => ({\n    type: 'filter/SET_FILTERTYPE',\n    payload: filterType,\n  }),\n  setAppliedQuery: (query: string): SetAppliedQueryAction => ({\n    type: 'filter/SET_APPLIEDQUERY',\n    payload: query,\n  }),\n};\n\nconst filterReducer = (\n  state = initialState,\n  action: Action,\n): FilterState => {\n  switch (action.type) {\n    case 'filter/SET_FILTERTYPE':\n      return {\n        ...state,\n        filterType: action.payload,\n      };\n\n    case 'filter/SET_APPLIEDQUERY':\n      return {\n        ...state,\n        appliedQuery: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default filterReducer;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport userReducer from './user';\nimport todosReducer from './todos';\nimport filterReducer from './filter';\nimport { FilterType } from '../types/FilterType';\n\nconst rootReducer = combineReducers({\n  todosInfo: todosReducer,\n  userInfo: userReducer,\n  filter: filterReducer,\n});\n\ntype RootState = ReturnType<typeof rootReducer>;\n\nconst filterTodosSelector = (state: RootState) => {\n  const { todos } = state.todosInfo;\n  const { filterType, appliedQuery } = state.filter;\n\n  const lowerCasedQuery = appliedQuery.toLowerCase();\n\n  return todos.filter(todo => {\n    const checkQuery = todo.title.toLowerCase().includes(lowerCasedQuery);\n\n    switch (filterType) {\n      case FilterType.All:\n        return checkQuery;\n      case FilterType.Active:\n        return checkQuery && !todo.completed;\n      case FilterType.Completed:\n        return checkQuery && todo.completed;\n      default:\n        return true;\n    }\n  });\n};\n\nexport const selectors = {\n  getUserInfo: (state: RootState) => state.userInfo,\n  getTodosInfo: (state: RootState) => state.todosInfo,\n  getFilter: (state: RootState) => state.filter,\n  getFilteredTodos: filterTodosSelector,\n};\n\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n","import { FC, memo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport cn from 'classnames';\nimport { Todo } from '../../types/Todo';\nimport { selectors } from '../../store';\nimport { actions as todosActions } from '../../store/todos';\n\ntype Props = {\n  todo: Todo;\n};\n\nexport const TodoComponent: FC<Props> = memo(({ todo }) => {\n  const {\n    id, title, completed, userId,\n  } = todo;\n\n  const dispatch = useDispatch();\n  const { selectedTodo } = useSelector(selectors.getTodosInfo);\n\n  return (\n    <tr\n      key={id}\n      data-cy=\"todo\"\n      className={cn({\n        'has-background-info-light': selectedTodo?.id === id,\n      })}\n    >\n      <td className=\"is-vcentered\">{userId}</td>\n      <td className=\"is-vcentered\">\n        {completed && (\n          <span className=\"icon\" data-cy=\"iconCompleted\">\n            <i className=\"fas fa-check\" />\n          </span>\n        )}\n      </td>\n      <td className=\"is-vcentered is-expanded\">\n        <p className={completed ? 'has-text-success' : 'has-text-danger'}>\n          {title}\n        </p>\n      </td>\n      <td className=\"has-text-right is-vcentered\">\n        <button\n          data-cy=\"selectButton\"\n          className=\"button\"\n          type=\"button\"\n          onClick={() => dispatch(todosActions.selectTodo(todo))}\n        >\n          <span className=\"icon\">\n            <i\n              className={\n                selectedTodo?.id !== id\n                  ? 'far fa-eye'\n                  : 'far fa-eye-slash'\n              }\n            />\n          </span>\n        </button>\n      </td>\n    </tr>\n  );\n});\n","import { FC, memo } from 'react';\nimport { Todo } from '../../types/Todo';\nimport { TodoComponent } from '../TodoComponent';\n\ninterface Props {\n  todos: Todo[];\n}\n\nexport const TodoList: FC<Props> = memo(({ todos }) => (\n  <table className=\"table is-narrow is-fullwidth\">\n    <thead>\n      <tr>\n        <th>#</th>\n        <th>\n          <span className=\"icon\">\n            <i className=\"fas fa-check\" />\n          </span>\n        </th>\n        <th>Title</th>\n        <th> </th>\n      </tr>\n    </thead>\n\n    <tbody>\n      {todos.map(todo => <TodoComponent key={todo.id} todo={todo} />)}\n    </tbody>\n  </table>\n));\n","import { FC, memo, useState } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { actions as filterActions } from '../../store/filter';\nimport { FilterType } from '../../types/FilterType';\nimport { selectors } from '../../store';\n\nexport const TodoFilter: FC = memo(() => {\n  const dispatch = useDispatch();\n  const { filterType } = useSelector(selectors.getFilter);\n  const [query, setQuery] = useState('');\n\n  const setAppliedQuery = useDebouncedCallback((value) => {\n    dispatch(filterActions.setAppliedQuery(value));\n  }, 300);\n\n  const handleChangeQuery = (value = '') => {\n    setQuery(value);\n    setAppliedQuery(value);\n  };\n\n  return (\n    <form className=\"field has-addons\">\n      <p className=\"control\">\n        <span className=\"select\">\n          <select\n            data-cy=\"statusSelect\"\n            value={filterType}\n            onChange={(event) => {\n              dispatch(\n                filterActions.setFilterType(event.target.value as FilterType),\n              );\n            }}\n          >\n            <option value={FilterType.All}>All</option>\n            <option value={FilterType.Active}>Active</option>\n            <option value={FilterType.Completed}>Completed</option>\n          </select>\n        </span>\n      </p>\n\n      <p className=\"control is-expanded has-icons-left has-icons-right\">\n        <input\n          data-cy=\"searchInput\"\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search...\"\n          value={query}\n          onChange={(event) => handleChangeQuery(event.target.value)}\n        />\n        <span className=\"icon is-left\">\n          <i className=\"fas fa-magnifying-glass\" />\n        </span>\n\n        {query && (\n          <span className=\"icon is-right\" style={{ pointerEvents: 'all' }}>\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              data-cy=\"clearSearchButton\"\n              type=\"button\"\n              className=\"delete\"\n              onClick={() => handleChangeQuery()}\n            />\n          </span>\n        )}\n      </p>\n    </form>\n  );\n});\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { FC, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '../Loader';\nimport { Todo } from '../../types/Todo';\nimport { selectors } from '../../store';\nimport { actions as userActions, fetchUser } from '../../store/user';\nimport { actions as todosActions } from '../../store/todos';\n\ninterface Props {\n  todo: Todo;\n}\n\nexport const TodoModal: FC<Props> = ({ todo }) => {\n  const dispatch = useDispatch();\n  const { user, loading } = useSelector(selectors.getUserInfo);\n\n  useEffect(() => {\n    dispatch(fetchUser(todo.userId));\n\n    return () => {\n      dispatch(userActions.userUnselect());\n    };\n  }, []);\n\n  return (\n    <div className=\"modal is-active\" data-cy=\"modal\">\n      <div className=\"modal-background\" />\n\n      {loading ? (\n        <Loader />\n      ) : (\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <div\n              className=\"modal-card-title has-text-weight-medium\"\n              data-cy=\"modal-header\"\n            >\n              {`Todo #${todo.id}`}\n            </div>\n\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              type=\"button\"\n              className=\"delete\"\n              data-cy=\"modal-close\"\n              onClick={() => dispatch(todosActions.unselectTodo())}\n            />\n          </header>\n\n          <div className=\"modal-card-body\">\n            <p className=\"block\" data-cy=\"modal-title\">\n              {todo.title}\n            </p>\n\n            <p className=\"block\" data-cy=\"modal-user\">\n              {todo.completed ? (\n                <strong className=\"has-text-success\">Done</strong>\n              ) : (\n                <strong className=\"has-text-danger\">Planned</strong>\n              )}\n\n              {' by '}\n\n              <a href={`mailto:${user?.email}`}>\n                {user?.name}\n              </a>\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { FC, useEffect } from 'react';\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport './App.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TodoList } from './components/TodoList';\nimport { TodoFilter } from './components/TodoFilter';\nimport { TodoModal } from './components/TodoModal';\nimport { Loader } from './components/Loader';\nimport { selectors } from './store';\nimport { fetchTodos } from './store/todos';\n\nexport const App: FC = () => {\n  const dispatch = useDispatch();\n  const { loading, selectedTodo } = useSelector(selectors.getTodosInfo);\n  const filteredTodos = useSelector(selectors.getFilteredTodos);\n\n  useEffect(() => {\n    dispatch(fetchTodos());\n  }, []);\n\n  return (\n    <>\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"box\">\n            <h1 className=\"title\">Todos:</h1>\n\n            <div className=\"block\">\n              <TodoFilter />\n            </div>\n\n            <div className=\"block\">\n              {loading ? (\n                <Loader />\n              ) : (\n                <TodoList todos={filteredTodos} />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {selectedTodo && (\n        <TodoModal todo={selectedTodo} />\n      )}\n    </>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport { store } from './store';\nimport { App } from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}